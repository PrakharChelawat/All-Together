[{"D:\\madad-application\\madad-application-main\\client\\src\\index.js":"1","D:\\madad-application\\madad-application-main\\client\\src\\reportWebVitals.js":"2","D:\\madad-application\\madad-application-main\\client\\src\\App.js":"3","D:\\madad-application\\madad-application-main\\client\\src\\components\\screens\\Home.js":"4","D:\\madad-application\\madad-application-main\\client\\src\\components\\screens\\Profile.js":"5","D:\\madad-application\\madad-application-main\\client\\src\\components\\screens\\Signup.js":"6","D:\\madad-application\\madad-application-main\\client\\src\\components\\Navbar.js":"7","D:\\madad-application\\madad-application-main\\client\\src\\components\\screens\\Signin.js":"8","D:\\madad-application\\madad-application-main\\client\\src\\components\\screens\\createpost.js":"9","D:\\madad-application\\madad-application-main\\client\\src\\reducers\\userReducer.js":"10","D:\\madad-application\\madad-application-main\\client\\src\\components\\screens\\UserProfile.js":"11","D:\\madad-application\\madad-application-main\\client\\src\\components\\screens\\SubscribesUserPosts.js":"12","D:\\madad-application\\madad-application-main\\client\\src\\components\\screens\\Reset.js":"13","D:\\madad-application\\madad-application-main\\client\\src\\components\\screens\\Newpassword.js":"14"},{"size":500,"mtime":1628702381853,"results":"15","hashOfConfig":"16"},{"size":362,"mtime":1628702381900,"results":"17","hashOfConfig":"16"},{"size":2482,"mtime":1650104159703,"results":"18","hashOfConfig":"16"},{"size":6518,"mtime":1637291572382,"results":"19","hashOfConfig":"16"},{"size":4942,"mtime":1628702381995,"results":"20","hashOfConfig":"16"},{"size":4204,"mtime":1650105952876,"results":"21","hashOfConfig":"16"},{"size":3604,"mtime":1650104815494,"results":"22","hashOfConfig":"16"},{"size":2240,"mtime":1650104850514,"results":"23","hashOfConfig":"16"},{"size":2845,"mtime":1628702382105,"results":"24","hashOfConfig":"16"},{"size":541,"mtime":1628702382136,"results":"25","hashOfConfig":"16"},{"size":5152,"mtime":1628702382089,"results":"26","hashOfConfig":"16"},{"size":7219,"mtime":1628702382073,"results":"27","hashOfConfig":"16"},{"size":2093,"mtime":1650104839772,"results":"28","hashOfConfig":"16"},{"size":1668,"mtime":1650105503754,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"10axlma",{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"37","messages":"38","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"32"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"32"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"45","messages":"46","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"47","messages":"48","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"49","messages":"50","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"32"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"32"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"32"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"62","messages":"63","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"D:\\madad-application\\madad-application-main\\client\\src\\index.js",[],["64","65"],"D:\\madad-application\\madad-application-main\\client\\src\\reportWebVitals.js",[],"D:\\madad-application\\madad-application-main\\client\\src\\App.js",["66","67"],"D:\\madad-application\\madad-application-main\\client\\src\\components\\screens\\Home.js",["68","69","70","71","72","73","74","75","76"],"import React, { useState, useEffect ,useContext} from \"react\";\r\nimport {UserContext} from '../../App'\r\nimport {Link} from 'react-router-dom'\r\n\r\nconst Home = () => {\r\n  const [data, setData] = useState([]);\r\n  const {state,dispatch} = useContext(UserContext)\r\n  useEffect(() => {\r\n    fetch(\"/allpost\", {\r\n      headers: {\r\n        //if user is logged in than only user can see the post\r\n        \"Authorization\": \"hello \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        setData(result.posts);\r\n      });\r\n  }, []);\r\n  const likePost = (id)=>{\r\n        fetch('/like',{\r\n          method:\"put\",\r\n          headers:{\r\n            \"Content-Type\":\"application/json\",\r\n            \"Authorization\":\"hello \"+localStorage.getItem(\"jwt\")\r\n          },\r\n          body:JSON.stringify({\r\n            postId:id\r\n          })\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n          const newData = data.map(item=>{\r\n            if(item._id==result._id){\r\n              return result\r\n            }\r\n            else{\r\n              return item\r\n            }\r\n          })\r\n          setData(newData)\r\n        }).catch(err=>{\r\n          console.log(err)\r\n        })\r\n  }\r\n  const unlikePost = (id)=>{\r\n    fetch('/unlike',{\r\n      method:\"put\",\r\n      headers:{\r\n        \"Content-Type\":\"application/json\",\r\n        \"Authorization\":\"hello \"+localStorage.getItem(\"jwt\")\r\n      },\r\n      body:JSON.stringify({\r\n        postId:id\r\n      })\r\n    }).then(res=>res.json())\r\n    .then(result=>{\r\n      const newData = data.map(item=>{\r\n        if(item._id==result._id){\r\n          return result\r\n        }\r\n        else{\r\n          return item\r\n        }\r\n      })\r\n      setData(newData)\r\n    }).catch(err=>{\r\n      console.log(err)\r\n    })\r\n}\r\nconst makeComment = (text,postId)=>{\r\n  fetch('/comment',{\r\n    method:\"put\",\r\n    headers:{\r\n      \"Content-type\":\"application/json\",\r\n      \"Authorization\":\"hello \"+localStorage.getItem(\"jwt\")\r\n    },\r\n    body:JSON.stringify({\r\n      // name,\r\n      postId,\r\n      text\r\n    })\r\n  }).then(res=>res.json())\r\n  .then(result=>{\r\n    console.log(result)\r\n    const newData = data.map(item=>{\r\n      if(item._id==result._id){\r\n        return result\r\n      }\r\n      else{\r\n        return item\r\n      }\r\n      \r\n    })\r\n    setData(newData)\r\n  }).catch(err=>{\r\n    console.log(err)\r\n  })\r\n}\r\nconst deletePost = (postId) =>{\r\n  fetch(`/deletepost/${postId}`,{\r\n    method:\"delete\",\r\n    headers:{\r\n      \"Authorization\":\"hello \"+localStorage.getItem(\"jwt\")\r\n    }\r\n  }).then(res=>res.json())\r\n  .then(result=>{\r\n    console.log(result)\r\n    const newData = data.filter(item=>{\r\n      return item._id !== result._id\r\n    })\r\n    setData(newData)\r\n  })\r\n}\r\nconst deleteComment = (postid, commentid) => {\r\n   \r\n  fetch(`/deletecomment/${postid}/${commentid}`, {\r\n    method: \"delete\",\r\n    headers: {\r\n      Authorization: \"hello \" + localStorage.getItem(\"jwt\"),\r\n    },\r\n  })\r\n    .then((res) => res.json())\r\n    .then((result) => {\r\n           const newData = data.map((item) => {\r\n\r\n        if (item._id == result._id) {\r\n                   return result;\r\n        } else {\r\n          return item;\r\n        }\r\n      });\r\n      setData(newData);\r\n    });\r\n};\r\n\r\n\r\n  return (\r\n    // <h1>Home</h1>\r\n    <div className=\"home\">\r\n      {data.map((item) => {\r\n        return (\r\n          <div className=\"card home-card\" key ={item._id}>\r\n            <h5><Link to={item.postedBy._id != state._id ?\"/profile/\"+item.postedBy._id :\"/profile/\" }>{item.postedBy.name} </Link>\r\n            {item.postedBy._id == state._id\r\n             && <i class=\"material-icons\"style={{float:\"right\"}}\r\n             onClick={()=>deletePost(item._id)}>delete</i>\r\n             }          \r\n            </h5>\r\n            <div className=\"card-image\">\r\n              <img src={item.photo}/>\r\n            </div>\r\n            <div className=\"card-content\">\r\n              <i className=\"material-icons\" style={{ color: \"red\" }}>\r\n                favorite\r\n              </i>\r\n              \r\n              {item.likes.includes(state._id)\r\n              ?<i className=\"material-icons\" onClick={()=>{unlikePost(item._id)}}> thumb_down</i>\r\n              :\r\n              <i className=\"material-icons\" onClick={()=>{likePost(item._id)}}\r\n              >thumb_up  </i>\r\n            }\r\n              \r\n              {/* <i className=\"material-icons\" onClick={()=>{unlikePost(item._id)}}> thumb_down</i> */}\r\n              <h6>{item.likes.length} likes</h6>\r\n              <h6>{item.title}</h6>\r\n              <p>{item.body}</p>\r\n              {\r\n                item.comments.map(record=>{\r\n                  // console.log(record.postedBy.name)\r\n                  return (\r\n                    // <h6 key={record._id}><span style={{fontWeight:\"500\"}}>{record.postedBy.name}</span>{\" \"}{record.text}\r\n                    // {(item.postedBy._id || record.postedBy._id) == state._id && (\r\n                    // <i className=\"material-icons\" \r\n                    // style={{floast:\"right\"}} \r\n                    // onClick={()=>\r\n                    //   deleteComment(item._id,record._id)\r\n                    // }\r\n                    //   >\r\n                    //   delete\r\n                    //   </i>\r\n                    // )}\r\n                    // </h6> \r\n                    <h6 key={record._id}>\r\n                      <span style={{ fontWeight: \"500\" }}>\r\n                        {record.postedBy.name}\r\n                      </span>{\" \"}\r\n                      {record.text}\r\n                      {(item.postedBy._id || record.postedBy._id) ==\r\n                        state._id && (\r\n                        <i\r\n                          className=\"material-icons\"\r\n                          style={{\r\n                            float: \"right\",\r\n                          }}\r\n                          onClick={() => deleteComment(item._id, record._id)}\r\n                        >\r\n                          delete\r\n                        </i>\r\n                      )}\r\n                    </h6>\r\n\r\n\r\n                  )\r\n                })\r\n              }\r\n              <form onSubmit ={(e)=>{\r\n                e.preventDefault()\r\n                makeComment(e.target[0].value,item._id)\r\n              }}>\r\n              <input type=\"text\" placeholder=\"add a comment\" />\r\n              </form>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\nexport default Home;\r\n","D:\\madad-application\\madad-application-main\\client\\src\\components\\screens\\Profile.js",["77","78","79","80","81","82"],"import React, { useEffect, useState, useContext } from \"react\";\r\nimport { UserContext } from \"../../App\";\r\n\r\nconst Profile = () => {\r\n  const [readMore,setReadMore]=useState(false);\r\n  const [data, setData] = useState([]);\r\n  const [mypics, setPics] = useState([]);\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const [image, setImage] = useState(\"\");\r\n  // const [url,setUrl]=useState(undefined)\r\n  useEffect(() => {\r\n    fetch(\"/mypost\", {\r\n      headers: {\r\n        Authorization: \"hello \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        setPics(result.mypost);\r\n      });\r\n  }, []);\r\n  useEffect(() => {\r\n    if (image) {\r\n      const data = new FormData();\r\n      data.append(\"file\", image);\r\n      data.append(\"upload_preset\", \"insta-clone\");\r\n      data.append(\"cloud_name\", \"prakhar123\");\r\n      fetch(\"\thttps://api.cloudinary.com/v1_1/prakhar123/image/upload\", {\r\n        method: \"post\",\r\n        body: data,\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          // setUrl(data.url)\r\n          console.log(data)\r\n          //\r\n          //\r\n          fetch(\"/updatepic\", {\r\n            method: \"put\",\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"hello \" + localStorage.getItem(\"jwt\"),\r\n            },\r\n            body: JSON.stringify({\r\n              pic: data.url,\r\n            }),\r\n          })\r\n            .then((res) => res.json())\r\n            .then((result) => {\r\n              console.log(result);\r\n              localStorage.setItem(\r\n                \"user\",\r\n                JSON.stringify({ ...state, pic: result.pic })\r\n              );\r\n              dispatch({ type: \"UPDATEPIC\", payload: result.pic });\r\n            });\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }, [image]);\r\n  const updatepic = (file) => {\r\n    setImage(file);\r\n  };\r\nconst deleteId = (id) =>{\r\n    fetch(`/deleteId/${id}`,{\r\n      method:\"delete\",\r\n      headers:{\r\n        \"Authorization\":\"hello \"+localStorage.getItem(\"jwt\")\r\n      }\r\n    }).then(res=>res.json())\r\n    .then(result=>{\r\n      console.log(result)\r\n      const newData = data.filter(item=>{\r\n        return item._id !== result._id\r\n      })\r\n      setData(newData)\r\n    })\r\n  }\r\n\r\n  const x=readMore?'  Read Less << ':' Read More >> '\r\n  return (\r\n    // <h1>Profile</h1>\r\n    \r\n    <div style={{ maxWidth: \"550px\", margin: \"0px auto\" }}>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-around\",\r\n          margin: \"18px 0px\",\r\n          borderBottom: \"1px solid grey\",\r\n        }}\r\n      >\r\n        <div>\r\n          <img\r\n            style={{ width: \"160px\", height: \"160px\", borderRadius: \"80px\",padding:\"20px 20px 20px 20px\"}}\r\n            src={state ? state.pic : \"loading\"}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          \r\n\r\n          <h5><b>{state ? state.name : \"loading\"}</b></h5>\r\n          <h6>  {state ? state.email : \"loading\"}</h6>\r\n          <h6> {state ? state.phone : \"loading\"}</h6>\r\n          <p><i>{state ? \r\n          <>\r\n          <a style={{justifyContent:true}}>{!readMore && state.aboutus.slice(0,state.aboutus.length/8)}</a>\r\n          <a onClick={()=>{setReadMore(!readMore)}}><i className=\"read-more-link\">{readMore && state.aboutus.slice(0,state.aboutus.length)}{\" \"}<a className=\"read-more-link\"><b>{x}</b></a>\r\n          </i>\r\n          </a>\r\n          </>\r\n          : \"loading\"}</i></p>\r\n          <div className=\"file-field input-field\">\r\n            <div className=\"btn-small  #3d5afe indigo accent-3\">\r\n              <span>Edit Pic</span>\r\n              <input\r\n                type=\"file\"\r\n                onChange={(e) => updatepic(e.target.files[0])}\r\n              />\r\n            </div>\r\n            <div className=\"file-path-wrapper\">\r\n              <input className=\"file-path validate\" type=\"text\" />\r\n            </div>\r\n          </div>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              width: \"108%\",\r\n            }}\r\n          >\r\n            <h5>{mypics.length} posts</h5>\r\n            <h5>{state ? state.followers.length : \"0\"} followers</h5>\r\n            <h5>{state ? state.following.length : \"0\"} following</h5>\r\n            <br></br>  \r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* <a class='dropdown-trigger btn' data-activates=\"dropdown\">Drop Me!</a>\r\n       */}\r\n      \r\n\r\n\r\n    \r\n    <div className=\"gallery\">\r\n        {mypics.map((item) => {\r\n          return (\r\n            <img\r\n              key={item._id}\r\n              className=\"item\"\r\n              src={item.photo}\r\n              alt={item.title}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n    \r\n  );\r\n  \r\n};\r\nexport default Profile;\r\n","D:\\madad-application\\madad-application-main\\client\\src\\components\\screens\\Signup.js",["83","84","85"],"D:\\madad-application\\madad-application-main\\client\\src\\components\\Navbar.js",["86","87","88"],"D:\\madad-application\\madad-application-main\\client\\src\\components\\screens\\Signin.js",["89","90","91"],"D:\\madad-application\\madad-application-main\\client\\src\\components\\screens\\createpost.js",["92","93"],"import React,{useState,useEffect} from \"react\";\r\nimport M from 'materialize-css'\r\nimport {Link,useHistory} from 'react-router-dom'\r\nconst CreatePost = () => {\r\n  const [title,setTitle]=useState(\"\")\r\n  const [body,setBody]=useState(\"\")\r\n  const [image,setImage]=useState(\"\")\r\n  const [url,setUrl]=useState(\"\")\r\n  const [phone,setPhone]=useState(\"\")\r\n  const [address,setAddress]=useState(\"\")\r\n  \r\n  const history=useHistory()\r\n  useEffect(()=>{\r\n    if(url){\r\n      fetch('/createpost',{\r\n        method:\"post\",\r\n        headers:{\r\n          \"Content-Type\":\"application/json\",\r\n          \"Authorization\":\"hello \"+localStorage.getItem(\"jwt\")\r\n        },\r\n        body:JSON.stringify({\r\n          title,\r\n          body,\r\n\r\n          pic:url,\r\n          phone,\r\n          address,\r\n        })\r\n      }).then(res=>res.json())\r\n      .then(data=>{\r\n        // console.log(data)\r\n        if(data.error){\r\n        M.toast({html: data.error,classes:\"#f44336 red\"})\r\n      }\r\n      else{\r\n        M.toast({html:\"Created Post SuccessFully\",classes:\"#4caf50 green\"})\r\n        history.push(\"/\")\r\n      }\r\n      }).catch(err=>{\r\n        console.log(err)\r\n      })\r\n    }\r\n\r\n  },[url])\r\n  const postDetails =() =>{\r\n    const data= new FormData()\r\n    data.append(\"file\",image)\r\n    data.append(\"upload_preset\",\"insta-clone\")\r\n    data.append(\"cloud_name\",\"prakhar123\")\r\n    fetch(\"\thttps://api.cloudinary.com/v1_1/prakhar123/image/upload\",{\r\n      method:\"post\",\r\n      body:data,\r\n    }).then(res=>res.json())\r\n    .then(data=>{\r\n      // console.log(data)\r\n      setUrl(data.url)\r\n    }).catch(err=>{\r\n      console.log(err)\r\n    })\r\n    \r\n  }\r\n  return (\r\n    <div className=\"card input-filled\">\r\n      <input type=\"text\" placeholder=\"Name / Title\" \r\n      value={title}\r\n      onChange={(e)=>setTitle(e.target.value)}\r\n      />\r\n      <input type=\"text\" placeholder=\"Description\" \r\n      value={body}\r\n      onChange={(e)=>setBody(e.target.value)}/>\r\n      \r\n      <input type=\"text\" placeholder=\"Phone\" \r\n      value={phone}\r\n      onChange={(e)=>setPhone(e.target.value)}\r\n      />\r\n      <input type=\"text\" placeholder=\"Address\" \r\n      value={address}\r\n      onChange={(e)=>setAddress(e.target.value)}\r\n      />\r\n      <div className=\"file-field input-field\">\r\n        <div className=\"btn  #3d5afe indigo accent-3\">\r\n          <span>Upload Image</span>\r\n          <input type=\"file\" \r\n          onChange={(e)=>setImage(e.target.files[0])}/>\r\n        </div>\r\n        <div className=\"file-path-wrapper\">\r\n          <input className=\"file-path validate\" type=\"text\" />\r\n        </div>\r\n        \r\n      </div>\r\n      \r\n      <button\r\n          className=\"btn waves-effect waves-light #3d5afe indigo accent-3\"\r\n          onClick={()=>postDetails()}\r\n          >\r\n          Submit Post\r\n        </button>\r\n    </div>\r\n  );\r\n};\r\nexport default CreatePost;\r\n","D:\\madad-application\\madad-application-main\\client\\src\\reducers\\userReducer.js",[],"D:\\madad-application\\madad-application-main\\client\\src\\components\\screens\\UserProfile.js",["94","95","96"],"import React,{useEffect,useState,useContext} from 'react'\r\nimport {UserContext} from '../../App'\r\nimport {useParams} from 'react-router-dom' \r\nconst Profile =()=>{\r\n    const [userProfile,setProfile]=useState(null)\r\n    // const [showfollow,setShowfollow]=useState(true)\r\n    const {state,dispatch}=useContext(UserContext)\r\n    const {userid} =useParams()\r\n    const {user}=useParams()\r\n    // console.log(user)\r\n    // console.log(\"prakhar\")\r\n    // console.log(state.followers)\r\n    const [showfollow,setShowfollow]=useState(state?!state.following.includes(userid):true)\r\n    useEffect(()=>{\r\n        fetch(`/user/${userid}`,{\r\n            headers:{\r\n                \"Authorization\":\"hello \"+localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            console.log(result)\r\n            // setPics(result.mypost)\r\n            \r\n            setProfile(result)\r\n        })\r\n    },[])\r\n    const followUser = () =>{\r\n        fetch('/follow',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"hello \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                followId:userid\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n            // console.log(data)\r\n            dispatch({type:\"UPDATE\",payload:{following:data.following,followers:data.followers}})\r\n            localStorage.setItem(\"user\",JSON.stringify(data))\r\n            setProfile((prevState)=>{\r\n                return{\r\n                    ...prevState,\r\n                    user:{\r\n                        ...prevState.user,\r\n                        followers:[...prevState.user.followers,data._id]\r\n                    }\r\n                }\r\n            })\r\n            setShowfollow(false)  \r\n        })\r\n        \r\n    }\r\n    const unfollowUser = () =>{\r\n        fetch('/unfollow',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"hello \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                unfollowId:userid\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n            console.log(data)\r\n            dispatch({type:\"UPDATE\",payload:{following:data.following,followers:data.followers}})\r\n            localStorage.setItem(\"user\",JSON.stringify(data))\r\n            \r\n            setProfile((prevState)=>{\r\n                const newFollower =prevState.user.followers.filter(item=>item !==data._id)\r\n                return{\r\n                    ...prevState,\r\n                    user:{\r\n                        ...prevState.user,\r\n                        followers:newFollower\r\n                    }\r\n                }\r\n            })\r\n            setShowfollow(true) \r\n        })\r\n    }\r\n    return (\r\n        <>\r\n        {userProfile ? \r\n        \r\n        <div style={{maxWidth:\"550px\",margin:\"0px auto\"}}>\r\n            <div style={{\r\n                display:\"flex\",\r\n                justifyContent:\"space-around\",\r\n                margin:\"18px 0px\",\r\n                borderBottom:\"1px solid grey\"\r\n            }}>\r\n                <div>\r\n                    <img style={{width:\"160px\",height:\"160px\",borderRadius:\"80px\"}}\r\n                   src={userProfile.user.pic}\r\n                   />\r\n                </div>\r\n                <div>\r\n                    <h4>{userProfile.user.name}</h4>\r\n                    <h5>{userProfile.user.email}</h5>\r\n                    <div style={{display:\"flex\",justifyContent:\"space-between\",width:\"108%\"}}>\r\n                        <h5>{userProfile.posts.length} posts</h5>\r\n                        <h6>{userProfile.user.followers.length} followers</h6>\r\n                        <h6>{userProfile.user.following.length} following</h6>\r\n                    </div>\r\n                    {showfollow ?\r\n                    <button\r\n                    style={{margin:\"10px\"}}\r\n                    className=\"btn waves-effect waves-light #3d5afe indigo accent-3\"\r\n                    onClick={()=>followUser()}\r\n                    >\r\n                    follow\r\n                    </button>\r\n                    :\r\n                    <button\r\n                    style={{margin:\"10px\"}}\r\n                        className=\"btn waves-effect waves-light #3d5afe indigo accent-3\"\r\n                        onClick={()=>unfollowUser()}\r\n                        >\r\n                        unfollow\r\n                        </button>\r\n                    }\r\n                    \r\n        \r\n                </div>\r\n            </div>\r\n        \r\n            <div className=\"gallery\">\r\n               {\r\n                   userProfile.posts.map((item)=>{\r\n                        return(\r\n                            <img key={item._id} className=\"item\" src={item.photo} alt={item.title}/>\r\n                        )\r\n                   })\r\n\r\n               }\r\n                \r\n            </div>\r\n        </div>\r\n        : <h2>loading....</h2>} \r\n        \r\n        </>\r\n    )\r\n}\r\nexport default Profile","D:\\madad-application\\madad-application-main\\client\\src\\components\\screens\\SubscribesUserPosts.js",["97","98","99","100","101","102","103","104","105","106","107","108"],"import React, { useState, useEffect ,useContext} from \"react\";\r\nimport {UserContext} from '../../App'\r\nimport {Link} from 'react-router-dom'\r\n\r\nconst Home = () => {\r\n  const [readMore,setReadMore]=useState(false);\r\n  const [data, setData] = useState([]);\r\n  const {state,dispatch} = useContext(UserContext)\r\n  useEffect(() => {\r\n    fetch('/getsubscribedpost', {\r\n      headers: {\r\n        //if user is logged in than only user can see the post\r\n        \"Authorization\": \"hello \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        // console.log(\"test\")\r\n        setData(result.posts);\r\n      });\r\n  }, []);\r\n  const likePost = (id)=>{\r\n        fetch('/like',{\r\n          method:\"put\",\r\n          headers:{\r\n            \"Content-Type\":\"application/json\",\r\n            \"Authorization\":\"hello \"+localStorage.getItem(\"jwt\")\r\n          },\r\n          body:JSON.stringify({\r\n            postId:id\r\n          })\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n          const newData = data.map(item=>{\r\n            if(item._id==result._id){\r\n              return result\r\n            }\r\n            else{\r\n              return item\r\n            }\r\n          })\r\n          setData(newData)\r\n        }).catch(err=>{\r\n          console.log(err)\r\n        })\r\n  }\r\n  const unlikePost = (id)=>{\r\n    fetch('/unlike',{\r\n      method:\"put\",\r\n      headers:{\r\n        \"Content-Type\":\"application/json\",\r\n        \"Authorization\":\"hello \"+localStorage.getItem(\"jwt\")\r\n      },\r\n      body:JSON.stringify({\r\n        postId:id\r\n      })\r\n    }).then(res=>res.json())\r\n    .then(result=>{\r\n      const newData = data.map(item=>{\r\n        if(item._id==result._id){\r\n          return result\r\n        }\r\n        else{\r\n          return item\r\n        }\r\n      })\r\n      setData(newData)\r\n    }).catch(err=>{\r\n      console.log(err)\r\n    })\r\n}\r\nconst makeComment = (text,postId)=>{\r\n  fetch('/comment',{\r\n    method:\"put\",\r\n    headers:{\r\n      \"Content-type\":\"application/json\",\r\n      \"Authorization\":\"hello \"+localStorage.getItem(\"jwt\")\r\n    },\r\n    body:JSON.stringify({\r\n      // name,\r\n      postId,\r\n      text\r\n    })\r\n  }).then(res=>res.json())\r\n  .then(result=>{\r\n    console.log(result)\r\n    const newData = data.map(item=>{\r\n      if(item._id==result._id){\r\n        return result\r\n      }\r\n      else{\r\n        return item\r\n      }\r\n      \r\n    })\r\n    setData(newData)\r\n  }).catch(err=>{\r\n    console.log(err)\r\n  })\r\n}\r\nconst deletePost = (postId) =>{\r\n  fetch(`/deletepost/${postId}`,{\r\n    method:\"delete\",\r\n    headers:{\r\n      \"Authorization\":\"hello \"+localStorage.getItem(\"jwt\")\r\n    }\r\n  }).then(res=>res.json())\r\n  .then(result=>{\r\n    console.log(result)\r\n    const newData = data.filter(item=>{\r\n      return item._id !== result._id\r\n    })\r\n    setData(newData)\r\n  })\r\n}\r\nconst deleteComment = (postid, commentid) => {\r\n   \r\n  fetch(`/deletecomment/${postid}/${commentid}`, {\r\n    method: \"delete\",\r\n    headers: {\r\n      Authorization: \"hello \" + localStorage.getItem(\"jwt\"),\r\n    },\r\n  })\r\n    .then((res) => res.json())\r\n    .then((result) => {\r\n           const newData = data.map((item) => {\r\n\r\n        if (item._id == result._id) {\r\n                   return result;\r\n        } else {\r\n          return item;\r\n        }\r\n      });\r\n      setData(newData);\r\n    });\r\n};\r\n\r\nconst x=readMore?'Read Less << ':'Read More >> '\r\n  return (\r\n    // <h1>Home</h1>\r\n    <div className=\"home\">\r\n      {data.map((item) => {\r\n        return (\r\n        \r\n          <div className=\"card home-card\" key ={item._id}>\r\n            <h5><Link to={item.postedBy._id != state._id ?\"/profile/\"+item.postedBy._id :\"/profile/\" }>{item.postedBy.name} </Link>\r\n            {item.postedBy._id == state._id\r\n             && <i class=\"material-icons\"style={{float:\"right\"}}\r\n             onClick={()=>deletePost(item._id)}>delete</i>\r\n             }          \r\n            </h5>\r\n            <div className=\"card-image\">\r\n              <img src={item.photo}/>\r\n            </div>\r\n            <div className=\"card-content\">\r\n              <i className=\"material-icons\" style={{ color: \"red\" }}>\r\n                favorite\r\n              </i>\r\n              \r\n              {item.likes.includes(state._id)\r\n              ?<i className=\"material-icons\" style={{cursor:\"pointer\"}} onClick={()=>{unlikePost(item._id)}}> thumb_down</i>\r\n              :\r\n              <i className=\"material-icons\" style={{cursor:\"pointer\"}} onClick={()=>{likePost(item._id)}}\r\n              >thumb_up  </i>\r\n            }\r\n              \r\n              {/* <i className=\"material-icons\" onClick={()=>{unlikePost(item._id)}}> thumb_down</i> */}\r\n              <h6>{item.likes.length} likes</h6>\r\n              <h6><b>Title :</b> {\" \"}{item.title}</h6>\r\n              <a style={{justifyContent:true}}><b>Description :</b><i> {!readMore && item.body.slice(0,item.body.length/4)}</i></a>\r\n              <a onClick={()=>{setReadMore(!readMore)}}><i className=\"read-more-link\">{readMore && item.body.slice(0,item.body.length)}{\" \"}<a className=\"read-more-link\"><b>{x}</b></a>\r\n              </i>\r\n              </a>\r\n              <p><i class=\"Tiny material-icons\">local_phone</i> : {\" \"}{item.phone}</p>\r\n              <p><b>Address :</b>{\" \"}<i>{item.address}</i></p>\r\n              {\r\n                item.comments.map(record=>{\r\n                  // console.log(record.postedBy.name)\r\n                  return (\r\n                    // <h6 key={record._id}><span style={{fontWeight:\"500\"}}>{record.postedBy.name}</span>{\" \"}{record.text}\r\n                    // {(item.postedBy._id || record.postedBy._id) == state._id && (\r\n                    // <i className=\"material-icons\" \r\n                    // style={{floast:\"right\"}} \r\n                    // onClick={()=>\r\n                    //   deleteComment(item._id,record._id)\r\n                    // }\r\n                    //   >\r\n                    //   delete\r\n                    //   </i>\r\n                    // )}\r\n                    // </h6>\r\n                    <h6 key={record._id}>\r\n                      <span style={{ fontWeight: \"500\" }}>\r\n                        {record.postedBy.name}\r\n                      </span>{\" \"}\r\n                      {record.text}\r\n                      {(item.postedBy._id || record.postedBy._id) ==\r\n                        state._id && (\r\n                        <i\r\n                          className=\"material-icons\"\r\n                          style={{\r\n                            float: \"right\",\r\n                          }}\r\n                          onClick={() => deleteComment(item._id, record._id)}\r\n                        >\r\n                          delete\r\n                        </i>\r\n                      )}\r\n                    </h6>\r\n\r\n\r\n                  )\r\n                })\r\n              }\r\n              <form onSubmit ={(e)=>{\r\n                e.preventDefault()\r\n                makeComment(e.target[0].value,item._id)\r\n              }}>\r\n              <input type=\"text\" placeholder=\"add a comment\" />\r\n              </form>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\nexport default Home;\r\n","D:\\madad-application\\madad-application-main\\client\\src\\components\\screens\\Reset.js",["109","110","111","112"],"D:\\madad-application\\madad-application-main\\client\\src\\components\\screens\\Newpassword.js",["113","114"],{"ruleId":"115","replacedBy":"116"},{"ruleId":"117","replacedBy":"118"},{"ruleId":"119","severity":1,"message":"120","line":20,"column":10,"nodeType":"121","messageId":"122","endLine":20,"endColumn":15},{"ruleId":"123","severity":1,"message":"124","line":34,"column":5,"nodeType":"125","endLine":34,"endColumn":7,"suggestions":"126"},{"ruleId":"119","severity":1,"message":"127","line":7,"column":16,"nodeType":"121","messageId":"122","endLine":7,"endColumn":24},{"ruleId":"128","severity":1,"message":"129","line":34,"column":24,"nodeType":"130","messageId":"131","endLine":34,"endColumn":26},{"ruleId":"128","severity":1,"message":"129","line":59,"column":20,"nodeType":"130","messageId":"131","endLine":59,"endColumn":22},{"ruleId":"128","severity":1,"message":"129","line":87,"column":18,"nodeType":"130","messageId":"131","endLine":87,"endColumn":20},{"ruleId":"128","severity":1,"message":"129","line":127,"column":22,"nodeType":"130","messageId":"131","endLine":127,"endColumn":24},{"ruleId":"128","severity":1,"message":"132","line":144,"column":45,"nodeType":"130","messageId":"131","endLine":144,"endColumn":47},{"ruleId":"128","severity":1,"message":"129","line":145,"column":32,"nodeType":"130","messageId":"131","endLine":145,"endColumn":34},{"ruleId":"133","severity":1,"message":"134","line":151,"column":15,"nodeType":"135","endLine":151,"endColumn":38},{"ruleId":"128","severity":1,"message":"129","line":190,"column":67,"nodeType":"130","messageId":"131","endLine":190,"endColumn":69},{"ruleId":"123","severity":1,"message":"136","line":63,"column":6,"nodeType":"125","endLine":63,"endColumn":13,"suggestions":"137"},{"ruleId":"119","severity":1,"message":"138","line":67,"column":7,"nodeType":"121","messageId":"122","endLine":67,"endColumn":15},{"ruleId":"133","severity":1,"message":"134","line":97,"column":11,"nodeType":"135","endLine":100,"endColumn":13},{"ruleId":"139","severity":1,"message":"140","line":111,"column":11,"nodeType":"135","endLine":111,"endColumn":44},{"ruleId":"139","severity":1,"message":"140","line":112,"column":11,"nodeType":"135","endLine":112,"endColumn":53},{"ruleId":"139","severity":1,"message":"140","line":112,"column":145,"nodeType":"135","endLine":112,"endColumn":175},{"ruleId":"123","severity":1,"message":"141","line":22,"column":6,"nodeType":"125","endLine":22,"endColumn":11,"suggestions":"142"},{"ruleId":"143","severity":1,"message":"144","line":41,"column":20,"nodeType":"145","messageId":"146","endLine":41,"endColumn":21,"suggestions":"147"},{"ruleId":"143","severity":1,"message":"144","line":41,"column":45,"nodeType":"145","messageId":"146","endLine":41,"endColumn":46,"suggestions":"148"},{"ruleId":"119","severity":1,"message":"149","line":1,"column":16,"nodeType":"121","messageId":"122","endLine":1,"endColumn":25},{"ruleId":"119","severity":1,"message":"150","line":4,"column":10,"nodeType":"121","messageId":"122","endLine":4,"endColumn":16},{"ruleId":"139","severity":1,"message":"151","line":75,"column":7,"nodeType":"135","endLine":75,"endColumn":69},{"ruleId":"119","severity":1,"message":"120","line":6,"column":10,"nodeType":"121","messageId":"122","endLine":6,"endColumn":15},{"ruleId":"143","severity":1,"message":"144","line":13,"column":20,"nodeType":"145","messageId":"146","endLine":13,"endColumn":21,"suggestions":"152"},{"ruleId":"143","severity":1,"message":"144","line":13,"column":45,"nodeType":"145","messageId":"146","endLine":13,"endColumn":46,"suggestions":"153"},{"ruleId":"119","severity":1,"message":"154","line":3,"column":9,"nodeType":"121","messageId":"122","endLine":3,"endColumn":13},{"ruleId":"123","severity":1,"message":"155","line":44,"column":5,"nodeType":"125","endLine":44,"endColumn":10,"suggestions":"156"},{"ruleId":"119","severity":1,"message":"157","line":9,"column":12,"nodeType":"121","messageId":"122","endLine":9,"endColumn":16},{"ruleId":"123","severity":1,"message":"158","line":26,"column":7,"nodeType":"125","endLine":26,"endColumn":9,"suggestions":"159"},{"ruleId":"133","severity":1,"message":"134","line":96,"column":21,"nodeType":"135","endLine":98,"endColumn":22},{"ruleId":"119","severity":1,"message":"127","line":8,"column":16,"nodeType":"121","messageId":"122","endLine":8,"endColumn":24},{"ruleId":"128","severity":1,"message":"129","line":36,"column":24,"nodeType":"130","messageId":"131","endLine":36,"endColumn":26},{"ruleId":"128","severity":1,"message":"129","line":61,"column":20,"nodeType":"130","messageId":"131","endLine":61,"endColumn":22},{"ruleId":"128","severity":1,"message":"129","line":89,"column":18,"nodeType":"130","messageId":"131","endLine":89,"endColumn":20},{"ruleId":"128","severity":1,"message":"129","line":129,"column":22,"nodeType":"130","messageId":"131","endLine":129,"endColumn":24},{"ruleId":"128","severity":1,"message":"132","line":147,"column":45,"nodeType":"130","messageId":"131","endLine":147,"endColumn":47},{"ruleId":"128","severity":1,"message":"129","line":148,"column":32,"nodeType":"130","messageId":"131","endLine":148,"endColumn":34},{"ruleId":"133","severity":1,"message":"134","line":154,"column":15,"nodeType":"135","endLine":154,"endColumn":38},{"ruleId":"139","severity":1,"message":"140","line":171,"column":15,"nodeType":"135","endLine":171,"endColumn":48},{"ruleId":"139","severity":1,"message":"140","line":172,"column":15,"nodeType":"135","endLine":172,"endColumn":57},{"ruleId":"139","severity":1,"message":"140","line":172,"column":141,"nodeType":"135","endLine":172,"endColumn":171},{"ruleId":"128","severity":1,"message":"129","line":198,"column":67,"nodeType":"130","messageId":"131","endLine":198,"endColumn":69},{"ruleId":"119","severity":1,"message":"160","line":1,"column":24,"nodeType":"121","messageId":"122","endLine":1,"endColumn":34},{"ruleId":"119","severity":1,"message":"154","line":2,"column":9,"nodeType":"121","messageId":"122","endLine":2,"endColumn":13},{"ruleId":"143","severity":1,"message":"144","line":13,"column":20,"nodeType":"145","messageId":"146","endLine":13,"endColumn":21,"suggestions":"161"},{"ruleId":"143","severity":1,"message":"144","line":13,"column":45,"nodeType":"145","messageId":"146","endLine":13,"endColumn":46,"suggestions":"162"},{"ruleId":"119","severity":1,"message":"160","line":1,"column":24,"nodeType":"121","messageId":"122","endLine":1,"endColumn":34},{"ruleId":"119","severity":1,"message":"154","line":2,"column":9,"nodeType":"121","messageId":"122","endLine":2,"endColumn":13},"no-native-reassign",["163"],"no-negated-in-lhs",["164"],"no-unused-vars","'state' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'dispatch' and 'history'. Either include them or remove the dependency array.","ArrayExpression",["165"],"'dispatch' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","Expected '!==' and instead saw '!='.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","React Hook useEffect has missing dependencies: 'dispatch' and 'state'. Either include them or remove the dependency array.",["166"],"'deleteId' is assigned a value but never used.","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","React Hook useEffect has a missing dependency: 'uploadfields'. Either include it or remove the dependency array.",["167"],"no-useless-escape","Unnecessary escape character: \\[.","Literal","unnecessaryEscape",["168","169"],["170","171"],"'Component' is defined but never used.","'render' is defined but never used.","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md",["172","173"],["174","175"],"'Link' is defined but never used.","React Hook useEffect has missing dependencies: 'address', 'body', 'history', 'phone', and 'title'. Either include them or remove the dependency array.",["176"],"'user' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'userid'. Either include it or remove the dependency array.",["177"],"'useContext' is defined but never used.",["178","179"],["180","181"],"no-global-assign","no-unsafe-negation",{"desc":"182","fix":"183"},{"desc":"184","fix":"185"},{"desc":"186","fix":"187"},{"messageId":"188","fix":"189","desc":"190"},{"messageId":"191","fix":"192","desc":"193"},{"messageId":"188","fix":"194","desc":"190"},{"messageId":"191","fix":"195","desc":"193"},{"messageId":"188","fix":"196","desc":"190"},{"messageId":"191","fix":"197","desc":"193"},{"messageId":"188","fix":"198","desc":"190"},{"messageId":"191","fix":"199","desc":"193"},{"desc":"200","fix":"201"},{"desc":"202","fix":"203"},{"messageId":"188","fix":"204","desc":"190"},{"messageId":"191","fix":"205","desc":"193"},{"messageId":"188","fix":"206","desc":"190"},{"messageId":"191","fix":"207","desc":"193"},"Update the dependencies array to be: [dispatch, history]",{"range":"208","text":"209"},"Update the dependencies array to be: [dispatch, image, state]",{"range":"210","text":"211"},"Update the dependencies array to be: [uploadfields, url]",{"range":"212","text":"213"},"removeEscape",{"range":"214","text":"215"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"216","text":"217"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"218","text":"215"},{"range":"219","text":"217"},{"range":"220","text":"215"},{"range":"221","text":"217"},{"range":"222","text":"215"},{"range":"223","text":"217"},"Update the dependencies array to be: [address, body, history, phone, title, url]",{"range":"224","text":"225"},"Update the dependencies array to be: [userid]",{"range":"226","text":"227"},{"range":"228","text":"215"},{"range":"229","text":"217"},{"range":"230","text":"215"},{"range":"231","text":"217"},[1282,1284],"[dispatch, history]",[1944,1951],"[dispatch, image, state]",[579,584],"[uploadfields, url]",[1094,1095],"",[1094,1094],"\\",[1119,1120],[1119,1119],[466,467],[466,466],[491,492],[491,491],[1165,1170],"[address, body, history, phone, title, url]",[933,935],"[userid]",[474,475],[474,474],[499,500],[499,499]]