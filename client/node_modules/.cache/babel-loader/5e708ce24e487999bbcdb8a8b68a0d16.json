{"ast":null,"code":"var _jsxFileName = \"D:\\\\madad-application\\\\madad-application-main\\\\client\\\\src\\\\components\\\\screens\\\\createpost.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport M from 'materialize-css';\nimport { Link, useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CreatePost = () => {\n  _s();\n\n  const [title, setTitle] = useState(\"\");\n  const [body, setBody] = useState(\"\");\n  const [image, setImage] = useState(\"\");\n  const [url, setUrl] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const history = useHistory();\n  useEffect(() => {\n    if (url) {\n      fetch('/createpost', {\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": \"hello \" + localStorage.getItem(\"jwt\")\n        },\n        body: JSON.stringify({\n          title,\n          body,\n          pic: url,\n          phone,\n          address\n        })\n      }).then(res => res.json()).then(data => {\n        // console.log(data)\n        if (data.error) {\n          M.toast({\n            html: data.error,\n            classes: \"#f44336 red\"\n          });\n        } else {\n          M.toast({\n            html: \"Created Post SuccessFully\",\n            classes: \"#4caf50 green\"\n          });\n          history.push(\"/\");\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }, [url]);\n\n  const postDetails = () => {\n    const data = new FormData();\n    data.append(\"file\", image);\n    data.append(\"upload_preset\", \"insta-clone\");\n    data.append(\"cloud_name\", \"prakhar123\");\n    fetch(\"\thttps://api.cloudinary.com/v1_1/prakhar123/image/upload\", {\n      method: \"post\",\n      body: data\n    }).then(res => res.json()).then(data => {\n      // console.log(data)\n      setUrl(data.url);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card input-filled\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Name / Title\",\n      value: title,\n      onChange: e => setTitle(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Description\",\n      value: body,\n      onChange: e => setBody(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Phone\",\n      value: phone,\n      onChange: e => setPhone(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Address\",\n      value: address,\n      onChange: e => setAddress(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"file-field input-field\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn  #3d5afe indigo accent-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Upload Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          onChange: e => setImage(e.target.files[0])\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"file-path-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"file-path validate\",\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn waves-effect waves-light #3d5afe indigo accent-3\",\n      onClick: () => postDetails(),\n      children: \"Submit Post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CreatePost, \"eHw2HP674xAL78nFf4ycxZdf+qY=\", false, function () {\n  return [useHistory];\n});\n\n_c = CreatePost;\nexport default CreatePost;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreatePost\");","map":{"version":3,"sources":["D:/madad-application/madad-application-main/client/src/components/screens/createpost.js"],"names":["React","useState","useEffect","M","Link","useHistory","CreatePost","title","setTitle","body","setBody","image","setImage","url","setUrl","phone","setPhone","address","setAddress","history","fetch","method","headers","localStorage","getItem","JSON","stringify","pic","then","res","json","data","error","toast","html","classes","push","catch","err","console","log","postDetails","FormData","append","e","target","value","files"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from \"react\";\r\nimport M from 'materialize-css'\r\nimport {Link,useHistory} from 'react-router-dom'\r\nconst CreatePost = () => {\r\n  const [title,setTitle]=useState(\"\")\r\n  const [body,setBody]=useState(\"\")\r\n  const [image,setImage]=useState(\"\")\r\n  const [url,setUrl]=useState(\"\")\r\n  const [phone,setPhone]=useState(\"\")\r\n  const [address,setAddress]=useState(\"\")\r\n  \r\n  const history=useHistory()\r\n  useEffect(()=>{\r\n    if(url){\r\n      fetch('/createpost',{\r\n        method:\"post\",\r\n        headers:{\r\n          \"Content-Type\":\"application/json\",\r\n          \"Authorization\":\"hello \"+localStorage.getItem(\"jwt\")\r\n        },\r\n        body:JSON.stringify({\r\n          title,\r\n          body,\r\n\r\n          pic:url,\r\n          phone,\r\n          address,\r\n        })\r\n      }).then(res=>res.json())\r\n      .then(data=>{\r\n        // console.log(data)\r\n        if(data.error){\r\n        M.toast({html: data.error,classes:\"#f44336 red\"})\r\n      }\r\n      else{\r\n        M.toast({html:\"Created Post SuccessFully\",classes:\"#4caf50 green\"})\r\n        history.push(\"/\")\r\n      }\r\n      }).catch(err=>{\r\n        console.log(err)\r\n      })\r\n    }\r\n\r\n  },[url])\r\n  const postDetails =() =>{\r\n    const data= new FormData()\r\n    data.append(\"file\",image)\r\n    data.append(\"upload_preset\",\"insta-clone\")\r\n    data.append(\"cloud_name\",\"prakhar123\")\r\n    fetch(\"\thttps://api.cloudinary.com/v1_1/prakhar123/image/upload\",{\r\n      method:\"post\",\r\n      body:data,\r\n    }).then(res=>res.json())\r\n    .then(data=>{\r\n      // console.log(data)\r\n      setUrl(data.url)\r\n    }).catch(err=>{\r\n      console.log(err)\r\n    })\r\n    \r\n  }\r\n  return (\r\n    <div className=\"card input-filled\">\r\n      <input type=\"text\" placeholder=\"Name / Title\" \r\n      value={title}\r\n      onChange={(e)=>setTitle(e.target.value)}\r\n      />\r\n      <input type=\"text\" placeholder=\"Description\" \r\n      value={body}\r\n      onChange={(e)=>setBody(e.target.value)}/>\r\n      \r\n      <input type=\"text\" placeholder=\"Phone\" \r\n      value={phone}\r\n      onChange={(e)=>setPhone(e.target.value)}\r\n      />\r\n      <input type=\"text\" placeholder=\"Address\" \r\n      value={address}\r\n      onChange={(e)=>setAddress(e.target.value)}\r\n      />\r\n      <div className=\"file-field input-field\">\r\n        <div className=\"btn  #3d5afe indigo accent-3\">\r\n          <span>Upload Image</span>\r\n          <input type=\"file\" \r\n          onChange={(e)=>setImage(e.target.files[0])}/>\r\n        </div>\r\n        <div className=\"file-path-wrapper\">\r\n          <input className=\"file-path validate\" type=\"text\" />\r\n        </div>\r\n        \r\n      </div>\r\n      \r\n      <button\r\n          className=\"btn waves-effect waves-light #3d5afe indigo accent-3\"\r\n          onClick={()=>postDetails()}\r\n          >\r\n          Submit Post\r\n        </button>\r\n    </div>\r\n  );\r\n};\r\nexport default CreatePost;\r\n"]},"metadata":{},"sourceType":"module"}